function pause(){
   read -p "$*"
}
all="${@:2}"
jetty=0
vertx=0
if [ "$1" == "jetty" ]; then
  jetty=1
fi
if [ "$1" == "vertx" ]; then
  vertx=1
fi

if [ "$vertx" -eq "0" ] && [ "$jetty" -eq "0" ]; then
  echo Did not specify server to test.
  exit 1
fi

echo =======================================================================================================================================
echo Using parameters: $all
if [ $jetty -eq 1 ]; then
        echo Testing jetty:
        ab $all  "http://api-klaatu-app2.snc1:8080/load-test-jetty-1.0-SNAPSHOT/calc?method=Memory&exp=%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%29"
# pause 'Press [Enter] key to continue...'
fi
if [ $vertx -eq 1 ]; then
        echo Testing vertx:
        ab $all  "http://api-klaatu-app2.snc1:8081/calc?method=Memory&exp=%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%29%2B%281%2B%281%2B%281%2B%281%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%2B%281%2B%281%2B0%29%2B%281%2B0%29%2B%281%2B0%29%29%29%29%29%29"
fi
